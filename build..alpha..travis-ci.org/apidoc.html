<div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a

        href="http://strongloop.github.io/node-foreman/"

    >foreman (v2.0.0)</a>
</h1>
<h4>Node Implementation of Foreman</h4>
<div class="apidocSectionDiv"><a
    href="#apidoc.tableOfContents"
    id="apidoc.tableOfContents"
><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.foreman">module foreman</a><ol>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">foreman.</span>colors</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">foreman.</span>envs</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">foreman.</span>forward</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">foreman.</span>proc</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">foreman.</span>procfile</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">foreman.</span>proxy</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">foreman.</span>requirements</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.foreman.colors">module foreman.colors</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.foreman.colors.blue">
            function <span class="apidocSignatureSpan">foreman.colors.</span>blue
            <span class="apidocSignatureSpan">(str)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.foreman.colors.bright_blue">
            function <span class="apidocSignatureSpan">foreman.colors.</span>bright_blue
            <span class="apidocSignatureSpan">(str)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.foreman.colors.bright_cyan">
            function <span class="apidocSignatureSpan">foreman.colors.</span>bright_cyan
            <span class="apidocSignatureSpan">(str)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.foreman.colors.bright_green">
            function <span class="apidocSignatureSpan">foreman.colors.</span>bright_green
            <span class="apidocSignatureSpan">(str)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.foreman.colors.bright_magenta">
            function <span class="apidocSignatureSpan">foreman.colors.</span>bright_magenta
            <span class="apidocSignatureSpan">(str)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.foreman.colors.bright_red">
            function <span class="apidocSignatureSpan">foreman.colors.</span>bright_red
            <span class="apidocSignatureSpan">(str)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.foreman.colors.bright_yellow">
            function <span class="apidocSignatureSpan">foreman.colors.</span>bright_yellow
            <span class="apidocSignatureSpan">(str)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.foreman.colors.cyan">
            function <span class="apidocSignatureSpan">foreman.colors.</span>cyan
            <span class="apidocSignatureSpan">(str)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.foreman.colors.green">
            function <span class="apidocSignatureSpan">foreman.colors.</span>green
            <span class="apidocSignatureSpan">(str)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.foreman.colors.magenta">
            function <span class="apidocSignatureSpan">foreman.colors.</span>magenta
            <span class="apidocSignatureSpan">(str)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.foreman.colors.red">
            function <span class="apidocSignatureSpan">foreman.colors.</span>red
            <span class="apidocSignatureSpan">(str)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.foreman.colors.yellow">
            function <span class="apidocSignatureSpan">foreman.colors.</span>yellow
            <span class="apidocSignatureSpan">(str)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">foreman.colors.</span>colors_max</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">foreman.</span>colors</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.foreman.envs">module foreman.envs</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.foreman.envs.dumpEnv">
            function <span class="apidocSignatureSpan">foreman.envs.</span>dumpEnv
            <span class="apidocSignatureSpan">(conf)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.foreman.envs.flattenJSON">
            function <span class="apidocSignatureSpan">foreman.envs.</span>flattenJSON
            <span class="apidocSignatureSpan">(json)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.foreman.envs.keyValue">
            function <span class="apidocSignatureSpan">foreman.envs.</span>keyValue
            <span class="apidocSignatureSpan">(data)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.foreman.envs.loadEnvs">
            function <span class="apidocSignatureSpan">foreman.envs.</span>loadEnvs
            <span class="apidocSignatureSpan">(path)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.foreman.forward">module foreman.forward</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.foreman.forward.startForward">
            function <span class="apidocSignatureSpan">foreman.forward.</span>startForward
            <span class="apidocSignatureSpan">(port, hostname, emitter)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.foreman.proc">module foreman.proc</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.foreman.proc.once">
            function <span class="apidocSignatureSpan">foreman.proc.</span>once
            <span class="apidocSignatureSpan">(input, envs, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.foreman.proc.run">
            function <span class="apidocSignatureSpan">foreman.proc.</span>run
            <span class="apidocSignatureSpan">(key, proc, emitter)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.foreman.proc.start">
            function <span class="apidocSignatureSpan">foreman.proc.</span>start
            <span class="apidocSignatureSpan">(procs, requirements, envs, portarg, emitter)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.foreman.procfile">module foreman.procfile</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.foreman.procfile.loadProc">
            function <span class="apidocSignatureSpan">foreman.procfile.</span>loadProc
            <span class="apidocSignatureSpan">(filename)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.foreman.procfile.procs">
            function <span class="apidocSignatureSpan">foreman.procfile.</span>procs
            <span class="apidocSignatureSpan">(procdata)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.foreman.proxy">module foreman.proxy</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.foreman.proxy.startProxies">
            function <span class="apidocSignatureSpan">foreman.proxy.</span>startProxies
            <span class="apidocSignatureSpan">(reqs, proc, command, emitter, portargs)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.foreman.requirements">module foreman.requirements</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.foreman.requirements.calculatePadding">
            function <span class="apidocSignatureSpan">foreman.requirements.</span>calculatePadding
            <span class="apidocSignatureSpan">(reqs)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.foreman.requirements.getreqs">
            function <span class="apidocSignatureSpan">foreman.requirements.</span>getreqs
            <span class="apidocSignatureSpan">(args, proc)</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.foreman" id="apidoc.module.foreman">module foreman</a></h1>















</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.foreman.colors" id="apidoc.module.foreman.colors">module foreman.colors</a></h1>


    <h2>
        <a href="#apidoc.element.foreman.colors.blue" id="apidoc.element.foreman.colors.blue">
        function <span class="apidocSignatureSpan">foreman.colors.</span>blue
        <span class="apidocSignatureSpan">(str)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">blue = function (str) {
  return colors[color] + str + reset;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.foreman.colors.bright_blue" id="apidoc.element.foreman.colors.bright_blue">
        function <span class="apidocSignatureSpan">foreman.colors.</span>bright_blue
        <span class="apidocSignatureSpan">(str)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">bright_blue = function (str) {
  return colors[color] + str + reset;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.foreman.colors.bright_cyan" id="apidoc.element.foreman.colors.bright_cyan">
        function <span class="apidocSignatureSpan">foreman.colors.</span>bright_cyan
        <span class="apidocSignatureSpan">(str)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">bright_cyan = function (str) {
  return colors[color] + str + reset;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.foreman.colors.bright_green" id="apidoc.element.foreman.colors.bright_green">
        function <span class="apidocSignatureSpan">foreman.colors.</span>bright_green
        <span class="apidocSignatureSpan">(str)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">bright_green = function (str) {
  return colors[color] + str + reset;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.foreman.colors.bright_magenta" id="apidoc.element.foreman.colors.bright_magenta">
        function <span class="apidocSignatureSpan">foreman.colors.</span>bright_magenta
        <span class="apidocSignatureSpan">(str)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">bright_magenta = function (str) {
  return colors[color] + str + reset;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.foreman.colors.bright_red" id="apidoc.element.foreman.colors.bright_red">
        function <span class="apidocSignatureSpan">foreman.colors.</span>bright_red
        <span class="apidocSignatureSpan">(str)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">bright_red = function (str) {
  return colors[color] + str + reset;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  };

  this.Warn = function Warn() {
    logger.warn(colors.yellow(&#x27;[WARN] &#x27; + this.fmt.apply(null, arguments)));
  };

  this.Error = function Error() {
    logger.error(colors.<span class="apidocCodeKeywordSpan">bright_red</span>(&#x27;[FAIL] &#x27; + this.fmt.apply(null,arguments
)));
  };

}

module.exports = Console;
Console.Console = new Console();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.foreman.colors.bright_yellow" id="apidoc.element.foreman.colors.bright_yellow">
        function <span class="apidocSignatureSpan">foreman.colors.</span>bright_yellow
        <span class="apidocSignatureSpan">(str)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">bright_yellow = function (str) {
  return colors[color] + str + reset;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    return ppath.resolve(__dirname, type, file);
  }
}

function writeout(path) {
  return function(data) {
    if (fs.existsSync(path)) {
      display.Warn(colors.<span class="apidocCodeKeywordSpan">bright_yellow</span>(&#x27;Replacing: %s&#x27;), path);
    }

    fs.writeFileSync(path,data);
    display.Alert(&#x27;Wrote  :&#x27;,ppath.normalize(path));
  };
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.foreman.colors.cyan" id="apidoc.element.foreman.colors.cyan">
        function <span class="apidocSignatureSpan">foreman.colors.</span>cyan
        <span class="apidocSignatureSpan">(str)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">cyan = function (str) {
  return colors[color] + str + reset;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
};

this.trim = trim;

// Process Specific Loggers //
this.info = function info(key, proc, string) {
  var stamp = (new Date().toLocaleTimeString()) + &#x22; &#x22; + key;
  logger.log(proc.color(this.pad(stamp,this.padding)), colors.<span class="apidocCodeKeywordSpan">cyan</span>(string));
};

this.error = function error(key, proc, string) {
  var stamp = (new Date().toLocaleTimeString()) + &#x22; &#x22; + key;
  logger.error(proc.color(this.pad(stamp,this.padding)), colors.red(string));
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.foreman.colors.green" id="apidoc.element.foreman.colors.green">
        function <span class="apidocSignatureSpan">foreman.colors.</span>green
        <span class="apidocSignatureSpan">(str)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">green = function (str) {
  return colors[color] + str + reset;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

  });
};

// Foreman Loggers //

this.Alert = function Alert() {
  logger.log(colors.<span class="apidocCodeKeywordSpan">green</span>(&#x27;[OKAY] &#x27;+ this.fmt.apply(null, arguments)));
};

this.Done = function Info() {
  logger.log(colors.cyan(&#x27;[DONE] &#x27; + this.fmt.apply(null, arguments)));
};

this.Warn = function Warn() {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.foreman.colors.magenta" id="apidoc.element.foreman.colors.magenta">
        function <span class="apidocSignatureSpan">foreman.colors.</span>magenta
        <span class="apidocSignatureSpan">(str)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">magenta = function (str) {
  return colors[color] + str + reset;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

program.parse(process.argv);

if (!process.argv.slice(2).length) {
  console.log(colors.cyan(&#x27;   _____                           &#x27;));
  console.log(colors.cyan(&#x27;  |   __|___ ___ ___ _____ ___ ___ &#x27;));
  console.log(colors.yellow(&#x27;  |   __| . |  _| -_|     |   |   |&#x27;));
  console.log(colors.<span class="apidocCodeKeywordSpan">magenta</span>(&#x27;  |__|  |___|_| |___|_|_|_|_^_|_|_|&#x27;));
  program.outputHelp();
  process.exit(1);
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.foreman.colors.red" id="apidoc.element.foreman.colors.red">
        function <span class="apidocSignatureSpan">foreman.colors.</span>red
        <span class="apidocSignatureSpan">(str)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">red = function (str) {
  return colors[color] + str + reset;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  this.info = function info(key, proc, string) {
var stamp = (new Date().toLocaleTimeString()) + &#x22; &#x22; + key;
logger.log(proc.color(this.pad(stamp,this.padding)), colors.cyan(string));
  };

  this.error = function error(key, proc, string) {
var stamp = (new Date().toLocaleTimeString()) + &#x22; &#x22; + key;
logger.error(proc.color(this.pad(stamp,this.padding)), colors.<span class="apidocCodeKeywordSpan">red</span>(string));
  };

  this.log = function log(key, proc, string) {
var self = this;

if(self.raw) {
  logger.log(string);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.foreman.colors.yellow" id="apidoc.element.foreman.colors.yellow">
        function <span class="apidocSignatureSpan">foreman.colors.</span>yellow
        <span class="apidocSignatureSpan">(str)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">yellow = function (str) {
  return colors[color] + str + reset;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  };

  this.Done = function Info() {
    logger.log(colors.cyan(&#x27;[DONE] &#x27; + this.fmt.apply(null, arguments)));
  };

  this.Warn = function Warn() {
    logger.warn(colors.<span class="apidocCodeKeywordSpan">yellow</span>(&#x27;[WARN] &#x27; + this.fmt.apply(null, arguments)));
  };

  this.Error = function Error() {
    logger.error(colors.bright_red(&#x27;[FAIL] &#x27; + this.fmt.apply(null,arguments)));
  };

}
...</pre></li>
    </ul>






</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.foreman.envs" id="apidoc.module.foreman.envs">module foreman.envs</a></h1>


    <h2>
        <a href="#apidoc.element.foreman.envs.dumpEnv" id="apidoc.element.foreman.envs.dumpEnv">
        function <span class="apidocSignatureSpan">foreman.envs.</span>dumpEnv
        <span class="apidocSignatureSpan">(conf)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function dumpEnv(conf) {
  var output = [];
  for (var key in conf) {
    output.push(key + &#x27;=&#x27; + conf[key]);
  }
  return output.sort().join(&#x27;\n&#x27;) + &#x27;\n&#x27;;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.foreman.envs.flattenJSON" id="apidoc.element.foreman.envs.flattenJSON">
        function <span class="apidocSignatureSpan">foreman.envs.</span>flattenJSON
        <span class="apidocSignatureSpan">(json)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function flattenJSON(json) {
  var flattened = {};

  walk(json, function(path, item) {
    flattened[path.join(&#x27;_&#x27;).toUpperCase()] = item;
  });

  return flattened;

  function walk(obj, visitor, path) {
    var item;
    path = path || [];
    for (var key in obj) {
      item = obj[key];
      if (typeof item === &#x27;object&#x27;) {
        walk(item, visitor, path.concat(key));
      } else {
        visitor(path.concat(key), item);
      }
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.foreman.envs.keyValue" id="apidoc.element.foreman.envs.keyValue">
        function <span class="apidocSignatureSpan">foreman.envs.</span>keyValue
        <span class="apidocSignatureSpan">(data)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function keyValue(data) {
  var env = {};

  data
    .toString()
    .replace(/^\s*\#.*$/gm,&#x27;&#x27;)
    .replace(/^\s*$/gm,&#x27;&#x27;)
    .split(/\n/)
    .map(method(&#x27;trim&#x27;))
    .filter(notBlank)
    .forEach(capturePair);

  return env;

  function notBlank(str) {
    return str.length &#x3e; 2;
  }

  function capturePair(line) {
    var pair = line.split(&#x27;=&#x27;);
    var key = pair[0].trim();
    var rawVal = pair.slice(1).join(&#x27;=&#x27;).trim();
    env[key] = parseValue(rawVal);
  }

  function parseValue(val) {
    switch (val[0]) {
      case &#x27;&#x22;&#x27;: return /^&#x22;([^&#x22;]*)&#x22;/.exec(val)[1];
      case &#x22;&#x27;&#x22;: return /^&#x27;([^&#x27;]*)&#x27;/.exec(val)[1];
      default : return val.replace(/\s*\#.*$/, &#x27;&#x27;);
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.foreman.envs.loadEnvs" id="apidoc.element.foreman.envs.loadEnvs">
        function <span class="apidocSignatureSpan">foreman.envs.</span>loadEnvs
        <span class="apidocSignatureSpan">(path)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function loadEnvs(path) {
  var envs = path.split(&#x27;,&#x27;).map(loadEnvsFile).reduce(util._extend, {});
  var sorted = Object.create(null);
  Object.keys(envs).sort().forEach(function(k) {
    sorted[k] = envs[k];
  });
  return sorted;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.foreman.forward" id="apidoc.module.foreman.forward">module foreman.forward</a></h1>


    <h2>
        <a href="#apidoc.element.foreman.forward.startForward" id="apidoc.element.foreman.forward.startForward">
        function <span class="apidocSignatureSpan">foreman.forward.</span>startForward
        <span class="apidocSignatureSpan">(port, hostname, emitter)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function startForward(port, hostname, emitter) {
  var proc = prog.fork(__dirname + &#x27;/../forward.js&#x27;, [], {
    env: {
      PROXY_PORT: port,
      PROXY_HOST: hostname || &#x27;&#x3c;ANY&#x3e;&#x27;
    }
  });
  cons.Alert(&#x27;Forward Proxy Started in Port %d&#x27;, port);
  if(hostname) {
    cons.Alert(&#x27;Intercepting requests to %s through forward proxy&#x27;, hostname);
  } else {
    cons.Alert(&#x27;Intercepting ALL requests through forward proxy&#x27;);
  }
  emitter.once(&#x27;killall&#x27;, function(signal) {
    cons.Done(&#x27;Killing Forward Proxy Server on Port %d&#x27;,port);
    proc.kill(signal);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.foreman.proc" id="apidoc.module.foreman.proc">module foreman.proc</a></h1>


    <h2>
        <a href="#apidoc.element.foreman.proc.once" id="apidoc.element.foreman.proc.once">
        function <span class="apidocSignatureSpan">foreman.proc.</span>once
        <span class="apidocSignatureSpan">(input, envs, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function once(input, envs, callback) {
  var file, args;
  var proc = {
    command : input,
    env     : merge(merge({}, process.env), envs)
  };

  if (platform === &#x27;win32&#x27;) {
    file = process.env.comspec || &#x27;cmd.exe&#x27;;
    args = [&#x27;/s&#x27;, &#x27;/c&#x27;, proc.command];
  } else {
    file = &#x27;/bin/sh&#x27;;
    args = [&#x27;-c&#x27;, proc.command];
  }

  var child = prog.spawn(file, args, { env: proc.env, stdio: &#x27;inherit&#x27; });

  child.on(&#x27;close&#x27;, function(code) {
    callback(code);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  });
  cons.Alert(&#x27;Forward Proxy Started in Port %d&#x27;, port);
  if(hostname) {
    cons.Alert(&#x27;Intercepting requests to %s through forward proxy&#x27;, hostname);
  } else {
    cons.Alert(&#x27;Intercepting ALL requests through forward proxy&#x27;);
  }
  emitter.<span class="apidocCodeKeywordSpan">once</span>(&#x27;killall&#x27;, function(signal) {
    cons.Done(&#x27;Killing Forward Proxy Server on Port %d&#x27;,port);
    proc.kill(signal);
  });
}

module.exports.startForward = startForward;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.foreman.proc.run" id="apidoc.element.foreman.proc.run">
        function <span class="apidocSignatureSpan">foreman.proc.</span>run
        <span class="apidocSignatureSpan">(key, proc, emitter)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function run(key, proc, emitter) {
  var file, args;
  if (platform === &#x27;win32&#x27;) {
    file = process.env.comspec || &#x27;cmd.exe&#x27;;
    args = [&#x27;/s&#x27;, &#x27;/c&#x27;, proc.command];
  } else {
    file = &#x27;/bin/sh&#x27;;
    args = [&#x27;-c&#x27;, proc.command];
  }
  var child = prog.spawn(file, args, { env: proc.env });

  child.stdout.on(&#x27;data&#x27;, function(data) {
    cons.log(key, proc, data.toString());
  });

  child.stderr.on(&#x27;data&#x27;, function(data) {
    cons.log(key, proc, data.toString());
  });

  child.on(&#x27;close&#x27;, function(code) {
    if(code === 0) {
      cons.info(key, proc, &#x22;Exited Successfully&#x22;);
    } else {
      cons.error(key, proc, &#x22;Exited with exit code &#x22; + code);
    }
  });

  child.on(&#x27;exit&#x27;, function(code, signal) {
    emitter.emit(&#x27;killall&#x27;, signal);
  });

  emitter.on(&#x27;killall&#x27;, function(signal) {
    child.kill(signal);
  });

}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.foreman.proc.start" id="apidoc.element.foreman.proc.start">
        function <span class="apidocSignatureSpan">foreman.proc.</span>start
        <span class="apidocSignatureSpan">(procs, requirements, envs, portarg, emitter)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function start(procs, requirements, envs, portarg, emitter){

  var j = 0;
  var k = 0;
  var port = parseInt(portarg);

  if(port &#x3c; 1024) {
    return cons.Error(&#x27;Only Proxies Can Bind to Privileged Ports - &#x27;+
                      &#x27;Try \&#x27;sudo nf start -x %s\&#x27;&#x27;, port);
  }


  for(var key in requirements) {
    var n = parseInt(requirements[key]);

    for(var i = 0; i &#x3c; n; i++) {

      var color_val = (j + k) % colors_max;

      if (!procs[key]) {
        cons.Warn(&#x22;Required Key &#x27;%s&#x27; Does Not Exist in Procfile Definition&#x22;, key);
        continue;
      }

      var p = {
        command : procs[key],
        color   : colors[color_val],
        env     : merge(merge({}, process.env), envs)
      };

      p.env.PORT = port + j + k * 100;
      p.env.FOREMAN_WORKER_NAME = p.env.FOREMAN_WORKER_NAME || key + &#x22;.&#x22; + (i + 1);

      run(key + &#x22;.&#x22; + (i + 1), p, emitter);

      j++;

    }
    j = 0;
    k++;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.foreman.procfile" id="apidoc.module.foreman.procfile">module foreman.procfile</a></h1>


    <h2>
        <a href="#apidoc.element.foreman.procfile.loadProc" id="apidoc.element.foreman.procfile.loadProc">
        function <span class="apidocSignatureSpan">foreman.procfile.</span>loadProc
        <span class="apidocSignatureSpan">(filename)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function loadProc(filename) {

  try {
    var data = fs.readFileSync(filename);
    return procs(data);
  } catch(e) {
    cons.Warn(e.message);
    if(fs.existsSync(&#x27;package.json&#x27;)) {
      cons.Alert(&#x22;package.json file found - trying &#x27;npm start&#x27;&#x22;);
      return procs(&#x22;web: npm start&#x22;);
    } else {
      cons.Error(&#x22;No Procfile and no package.json file found in Current Directory - See &#x22; + path.basename(process.argv[1]) + &#x22; --
help&#x22;);
      return;
    }
  }

}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.foreman.procfile.procs" id="apidoc.element.foreman.procfile.procs">
        function <span class="apidocSignatureSpan">foreman.procfile.</span>procs
        <span class="apidocSignatureSpan">(procdata)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function procs(procdata){

  var processes = {};

  procdata.toString().split(/\n/).forEach(function(line) {
    if(!line || line[0] === &#x27;#&#x27;) { return; }

    var tuple = /^([A-Za-z0-9_-]+):\s*(.+)$/m.exec(line);

    var prockey = tuple[1].trim();
    var command = tuple[2].trim();

    if(!prockey) {
      throw new Error(&#x27;Syntax Error in Procfile, Line %d: No Prockey Found&#x27;);
    }

    if(!command) {
      throw new Error(&#x27;Syntax Error in Procfile, Line %d: No Command Found&#x27;);
    }

    processes[prockey] = command;
  });

  return processes;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.foreman.proxy" id="apidoc.module.foreman.proxy">module foreman.proxy</a></h1>


    <h2>
        <a href="#apidoc.element.foreman.proxy.startProxies" id="apidoc.element.foreman.proxy.startProxies">
        function <span class="apidocSignatureSpan">foreman.proxy.</span>startProxies
        <span class="apidocSignatureSpan">(reqs, proc, command, emitter, portargs)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function startProxies(reqs, proc, command, emitter, portargs) {

  if (&#x27;proxy&#x27; in command) {

    var localhost = &#x27;localhost&#x27;;

    var ports = command.proxy.split(&#x27;,&#x27;);

    var ssl = {
      cert: &#x27;&#x27;,
      key:  &#x27;&#x27;
    };
    if ((command.sslKey &#x26;&#x26; !command.sslCert) ||
        (command.sslCert &#x26;&#x26; !command.sslKey)) {
      cons.Warn(&#x27;SSL key and cert must both be supplied for SSL support&#x27;);
    }
    if (command.sslKey &#x26;&#x26; command.sslCert) {
      command.sslKey = path.resolve(command.sslKey);
      command.sslCert = path.resolve(command.sslCert);
      if (!fs.existsSync(command.sslKey)) {
        cons.Warn(&#x27;SSL key (%s) does not exist&#x27;, command.sslKey);
      }
      else {
        ssl.key = command.sslKey;
      }
      if (!fs.existsSync(command.sslCert)) {
        cons.Warn(&#x27;SSL cert (%s) does not exist&#x27;, command.sslCert);
      }
      else {
        ssl.cert = command.sslCert;
      }
    }

    Object.keys(reqs).forEach(function(key, i) {
      f(key, i, ports, proc, reqs, portargs, localhost, emitter, ssl);
    });
  }

}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.foreman.requirements" id="apidoc.module.foreman.requirements">module foreman.requirements</a></h1>


    <h2>
        <a href="#apidoc.element.foreman.requirements.calculatePadding" id="apidoc.element.foreman.requirements.calculatePadding">
        function <span class="apidocSignatureSpan">foreman.requirements.</span>calculatePadding
        <span class="apidocSignatureSpan">(reqs)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function calculatePadding(reqs) {
  var padding = 0;
  for(var key in reqs){
    var num = reqs[key];
    var len = key.length + num.toString().length;
    if(len &#x3e; padding) {
      padding = len;
    }
  }
  return padding + 12;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.foreman.requirements.getreqs" id="apidoc.element.foreman.requirements.getreqs">
        function <span class="apidocSignatureSpan">foreman.requirements.</span>getreqs
        <span class="apidocSignatureSpan">(args, proc)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function getreqs(args, proc) {
  var req;
  if(args &#x26;&#x26; args.length &#x3e; 0) {
    // Run Specific Procs
    req = parseRequirements(args);
  } else {
    // All
    req = {};
    for(var key in proc){
      req[key] = 1;
    }
  }
  return req;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
